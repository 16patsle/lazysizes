!function(){"use strict";if("function"!=typeof window.CustomEvent){function t(t,e){e=e||{bubbles:!1,cancelable:!1,detail:null};var i=document.createEvent("CustomEvent");return i.initCustomEvent(t,e.bubbles,e.cancelable,e.detail),i}window.CustomEvent=t}window.lazySizes=function(){var e,i;if(function(){var t,e={lazyClass:"lazyload",loadedClass:"lazyloaded",loadingClass:"lazyloading",preloadClass:"lazypreload",errorClass:"lazyerror",autosizesClass:"lazyautosizes",srcAttr:"data-src",srcsetAttr:"data-srcset",sizesAttr:"data-sizes",minSize:40,customMedia:{},init:!0,expFactor:1.5,hFac:.8,loadMode:2,loadHidden:!0,ricTimeout:0,throttleDelay:125};for(t in i=window.lazySizesConfig||window.lazysizesConfig||{},e)t in i||(i[t]=e[t])}(),!document||!document.getElementsByClassName)return{init:function(){},cfg:i,noSupport:!0};var n,a,o,s,r,l,d,c,u,f,m,g,h,v,y,p,z,w,b,A,E,C,L,_,T,M,N,R,S,W,x,B,D,F,q,k,H,$,P,I,O,U,j,G=document.documentElement,J=window.addEventListener.bind(window),K=window.requestIdleCallback,Q=/^picture$/i,V=["load","error","lazyincluded","_lazyloaded"],X=Array.prototype.forEach,Y=function(t,e,i){var n=i?"addEventListener":"removeEventListener";i&&Y(t,e),V.forEach((function(i){t[n](i,e)}))},Z=function(i,n,a,o,s){a||(a={}),a.instance=e;var r=new t(n,{detail:a,bubbles:!o,cancelable:!s});return i.dispatchEvent(r),r},tt=function(t,e){var n;!window.HTMLPictureElement&&(n=window.picturefill||i.pf)?(e&&e.src&&!t.getAttribute("srcset")&&t.setAttribute("srcset",e.src),n({reevaluate:!0,elements:[t]})):e&&e.src&&(t.src=e.src)},et=function(t,e){return(getComputedStyle(t,null)||{})[e]},it=function(t,e,n){for(n=n||t.offsetWidth;n<i.minSize&&e&&!t._lazysizesWidth;)n=e.offsetWidth,e=e.parentNode;return n},nt=(s=[],r=o=[],(d=function(t,e){n&&!e?t.apply(this,arguments):(r.push(t),a||(a=!0,(document.hidden?setTimeout:requestAnimationFrame)(l)))})._lsFlush=l=function(){var t=r;for(r=o.length?s:o,n=!0,a=!1;t.length;)t.shift()();n=!1},d),at=function(t,e){return e?function(){nt(t)}:function(){var e=this,i=arguments;nt((function(){t.apply(e,i)}))}},ot=function(t){var e,i,n=function(){e=null,t()},a=function(){var t=Date.now()-i;t<99?setTimeout(a,99-t):(K||n)(n)};return function(){i=Date.now(),e||(e=setTimeout(a,99))}},st=(A=/^img$/i,E=/^iframe$/i,C="onscroll"in window&&!/(gle|ing)bot/.test(navigator.userAgent),L=0,_=0,T=-1,M=function(t){_--,(!t||_<0||!t.target)&&(_=0)},N=function(t){return null==b&&(b="hidden"==et(document.body,"visibility")),b||!("hidden"==et(t.parentNode,"visibility")&&"hidden"==et(t,"visibility"))},R=function(t,e){var i,n=t,a=N(t);for(y-=e,w+=e,p-=e,z+=e;a&&(n=n.offsetParent)&&n!=document.body&&n!=G;)(a=(et(n,"opacity")||1)>0)&&"visible"!=et(n,"overflow")&&(i=n.getBoundingClientRect(),a=z>i.left&&p<i.right&&w>i.top-1&&y<i.bottom+1);return a},W=function(t){var e,n=0,a=i.throttleDelay,o=i.ricTimeout,s=function(){e=!1,n=Date.now(),t()},r=K&&o>49?function(){K(s,{timeout:o}),o!==i.ricTimeout&&(o=i.ricTimeout)}:at((function(){setTimeout(s)}),!0);return function(t){var i;(t=!0===t)&&(o=33),e||(e=!0,(i=a-(Date.now()-n))<0&&(i=0),t||i<9?r():setTimeout(r,i))}}(S=function(){var t,n,a,o,s,r,l,d,f,g,A,E,M=e.elements;if((m=i.loadMode)&&_<8&&(t=M.length)){for(n=0,T++;n<t;n++)if(M[n]&&!M[n]._lazyRace)if(!C||e.prematureUnveil&&e.prematureUnveil(M[n]))k(M[n]);else if((d=M[n].getAttribute("data-expand"))&&(r=1*d)||(r=L),g||(g=!i.expand||i.expand<1?G.clientHeight>500&&G.clientWidth>500?500:370:i.expand,e._defEx=g,A=g*i.expFactor,E=i.hFac,b=null,L<A&&_<1&&T>2&&m>2&&!document.hidden?(L=A,T=0):L=m>1&&T>1&&_<6?g:0),f!==r&&(h=innerWidth+r*E,v=innerHeight+r,l=-1*r,f=r),a=M[n].getBoundingClientRect(),(w=a.bottom)>=l&&(y=a.top)<=v&&(z=a.right)>=l*E&&(p=a.left)<=h&&(w||z||p||y)&&(i.loadHidden||N(M[n]))&&(u&&_<3&&!d&&(m<3||T<4)||R(M[n],r))){if(k(M[n]),s=!0,_>9)break}else!s&&u&&!o&&_<4&&T<4&&m>2&&(c[0]||i.preloadAfterLoad)&&(c[0]||!d&&(w||z||p||y||"auto"!=M[n].getAttribute(i.sizesAttr)))&&(o=c[0]||M[n]);o&&!s&&k(o)}}),B=at(x=function(t){var e=t.target;e._lazyCache?delete e._lazyCache:(M(t),e.classList.add(i.loadedClass),e.classList.remove(i.loadingClass),Y(e,D),Z(e,"lazyloaded"))}),D=function(t){B({target:t.target})},F=function(t){var e,n=t.getAttribute(i.srcsetAttr);(e=i.customMedia[t.getAttribute("data-media")||t.getAttribute("media")])&&t.setAttribute("media",e),n&&t.setAttribute("srcset",n)},q=at((function(t,e,n,a,o){var s,r,l,d,c,u;(c=Z(t,"lazybeforeunveil",e)).defaultPrevented||(a&&(n?t.classList.add(i.autosizesClass):t.setAttribute("sizes",a)),r=t.getAttribute(i.srcsetAttr),s=t.getAttribute(i.srcAttr),o&&(d=(l=t.parentNode)&&Q.test(l.nodeName||"")),u=e.firesLoad||"src"in t&&(r||s||d),c={target:t},t.classList.add(i.loadingClass),u&&(clearTimeout(f),f=setTimeout(M,2500),Y(t,D,!0)),d&&X.call(l.getElementsByTagName("source"),F),r?t.setAttribute("srcset",r):s&&!d&&(E.test(t.nodeName)?function(t,e){try{t.contentWindow.location.replace(e)}catch(i){t.src=e}}(t,s):t.src=s),o&&(r||d)&&tt(t,{src:s})),t._lazyRace&&delete t._lazyRace,t.classList.remove(i.lazyClass),nt((function(){var e=t.complete&&t.naturalWidth>1;u&&!e||(e&&t.classList.add("ls-is-cached"),x(c),t._lazyCache=!0,setTimeout((function(){"_lazyCache"in t&&delete t._lazyCache}),9)),"lazy"==t.loading&&_--}),!0)})),k=function(t){if(!t._lazyRace){var e,n=A.test(t.nodeName),a=n&&(t.getAttribute(i.sizesAttr)||t.getAttribute("sizes")),o="auto"==a;(!o&&u||!n||!t.getAttribute("src")&&!t.srcset||t.complete||t.classList.contains(i.errorClass)||!t.classList.contains(i.lazyClass))&&(e=Z(t,"lazyunveilread").detail,o&&rt.updateElem(t,!0,t.offsetWidth),t._lazyRace=!0,_++,q(t,e,o,a,n))}},H=ot((function(){i.loadMode=3,W()})),P=function(){u||(Date.now()-g<999?setTimeout(P,999):(u=!0,i.loadMode=3,W(),J("scroll",$,!0)))},{_:function(){g=Date.now(),e.elements=document.getElementsByClassName(i.lazyClass),c=document.getElementsByClassName(i.lazyClass+" "+i.preloadClass),J("scroll",W,!0),J("resize",W,!0),J("pageshow",(function(t){if(t.persisted){var e=document.querySelectorAll("."+i.loadingClass);e.length&&e.forEach&&requestAnimationFrame((function(){e.forEach((function(t){t.complete&&k(t)}))}))}})),window.MutationObserver&&new MutationObserver(W).observe(G,{childList:!0,subtree:!0,attributes:!0}),J("hashchange",W,!0),["focus","mouseover","click","load","transitionend","animationend"].forEach((function(t){document.addEventListener(t,W,!0)})),/d$|^c/.test(document.readyState)?P():(J("load",P),document.addEventListener("DOMContentLoaded",W),setTimeout(P,2e4)),e.elements.length?(S(),nt._lsFlush()):W()},checkElems:W,unveil:k,_aLSL:$=function(){3==i.loadMode&&(i.loadMode=2),H()}}),rt=(O=at((function(t,e,i,n){var a,o,s;if(t._lazysizesWidth=n,n+="px",t.setAttribute("sizes",n),Q.test(e.nodeName||""))for(o=0,s=(a=e.getElementsByTagName("source")).length;o<s;o++)a[o].setAttribute("sizes",n);i.detail.dataAttr||tt(t,i.detail)})),U=function(t,e,i){var n,a=t.parentNode;a&&(i=it(t,a,i),(n=Z(t,"lazybeforesizes",{width:i,dataAttr:!!e})).defaultPrevented||(i=n.detail.width)&&i!==t._lazysizesWidth&&O(t,a,n,i))},{_:function(){I=document.getElementsByClassName(i.autosizesClass),J("resize",j)},checkElems:j=ot((function(){var t,e=I.length;if(e)for(t=0;t<e;t++)U(I[t])})),updateElem:U}),lt=function(){!lt.i&&document.getElementsByClassName&&(lt.i=!0,rt._(),st._())};return setTimeout((function(){i.init&&lt()})),e={cfg:i,autoSizer:rt,loader:st,init:lt,uP:tt,fire:Z,gW:it,rAF:nt}}(),function(t){var e=function(){t(window.lazySizes),window.removeEventListener("lazyunveilread",e,!0)};window.lazySizes?e():window.addEventListener("lazyunveilread",e,!0)}((function(t){if(window.addEventListener){var e,i,n,a=Array.prototype.forEach,o=/^picture$/i,s=function(t){return window.matchMedia?(s=function(t){return!t||(matchMedia(t)||{}).matches})(t):window.Modernizr&&Modernizr.mq?!t||Modernizr.mq(t):!t},r=t.cfg;l.prototype={_setupEvents:function(){var t,e,i=this,n=function(t){t.naturalWidth<36?i.addAspectRatio(t,!0):i.removeAspectRatio(t,!0)},o=function(){i.processImages()};document.addEventListener("load",(function(t){t.target.getAttribute&&t.target.getAttribute("data-aspectratio")&&n(t.target)}),!0),addEventListener("resize",(e=function(){a.call(i.ratioElems,n)},function(){clearTimeout(t),t=setTimeout(e,99)})),document.addEventListener("DOMContentLoaded",o),addEventListener("load",o)},processImages:function(t){var e,i;t||(t=document),e="length"in t&&!t.nodeName?t:t.querySelectorAll("img[data-aspectratio]");for(i=0;i<e.length;i++)e[i].naturalWidth>36?this.removeAspectRatio(e[i]):this.addAspectRatio(e[i])},getSelectedRatio:function(t){var e,i,n,a,l,d=t.parentNode;if(d&&o.test(d.nodeName||""))for(e=0,i=(n=d.getElementsByTagName("source")).length;e<i;e++)if(a=n[e].getAttribute("data-media")||n[e].getAttribute("media"),r.customMedia[a]&&(a=r.customMedia[a]),s(a)){l=n[e].getAttribute("data-aspectratio");break}return l||t.getAttribute("data-aspectratio")||""},parseRatio:(i=/^\s*([+\d\.]+)(\s*[\/x]\s*([+\d\.]+))?\s*$/,n={},function(t){var e;return!n[t]&&(e=t.match(i))&&(e[3]?n[t]=e[1]/e[3]:n[t]=1*e[1]),n[t]}),addAspectRatio:function(t,e){var i,n=t.offsetWidth,a=t.offsetHeight;e||t.classList.add("lazyaspectratio"),n<36&&a<=0?(n||a&&window.console)&&console.log("Define width or height of image, so we can calculate the other dimension"):(i=this.getSelectedRatio(t),(i=this.parseRatio(i))&&(n?t.style.height=n/i+"px":t.style.width=a*i+"px"))},removeAspectRatio:function(t){t.classList.remove("lazyaspectratio"),t.style.height="",t.style.width="",t.removeAttribute("data-aspectratio")}},e=new l,window.imageRatio=e}function l(){this.ratioElems=document.getElementsByClassName("lazyaspectratio"),this._setupEvents(),this.processImages()}}))}();
