!function(){"use strict";if("function"!=typeof window.CustomEvent){function t(t,e){e=e||{bubbles:!1,cancelable:!1,detail:null};var a=document.createEvent("CustomEvent");return a.initCustomEvent(t,e.bubbles,e.cancelable,e.detail),a}window.CustomEvent=t}function e(t){var e=function(){t(window.lazySizes),window.removeEventListener("lazyunveilread",e,!0)};window.lazySizes?e():window.addEventListener("lazyunveilread",e,!0)}window.lazySizes=function(){var e,a;if(function(){var t,e={lazyClass:"lazyload",loadedClass:"lazyloaded",loadingClass:"lazyloading",preloadClass:"lazypreload",errorClass:"lazyerror",autosizesClass:"lazyautosizes",srcAttr:"data-src",srcsetAttr:"data-srcset",sizesAttr:"data-sizes",minSize:40,customMedia:{},init:!0,expFactor:1.5,hFac:.8,loadMode:2,loadHidden:!0,ricTimeout:0,throttleDelay:125};for(t in a=window.lazySizesConfig||window.lazysizesConfig||{},e)t in a||(a[t]=e[t])}(),!document||!document.getElementsByClassName)return{init:function(){},cfg:a,noSupport:!0};var i,n,o,r,s,l,d,c,u,f,m,g,h,y,v,p,z,b,w,A,E,C,L,_,N,T,M,S,R,W,x,B,q,D,F,k,H,P,$,I,O,J,U,j=document.documentElement,G=window.addEventListener.bind(window),K=window.requestIdleCallback,Q=/^picture$/i,V=["load","error","lazyincluded","_lazyloaded"],X=Array.prototype.forEach,Y=function(t,e,a){var i=a?"addEventListener":"removeEventListener";a&&Y(t,e),V.forEach((function(a){t[i](a,e)}))},Z=function(a,i,n,o,r){n||(n={}),n.instance=e;var s=new t(i,{detail:n,bubbles:!o,cancelable:!r});return a.dispatchEvent(s),s},tt=function(t,e){var i;!window.HTMLPictureElement&&(i=window.picturefill||a.pf)?(e&&e.src&&!t.getAttribute("srcset")&&t.setAttribute("srcset",e.src),i({reevaluate:!0,elements:[t]})):e&&e.src&&(t.src=e.src)},et=function(t,e){return(getComputedStyle(t,null)||{})[e]},at=function(t,e,i){for(i=i||t.offsetWidth;i<a.minSize&&e&&!t._lazysizesWidth;)i=e.offsetWidth,e=e.parentNode;return i},it=(r=[],s=o=[],(d=function(t,e){i&&!e?t.apply(this,arguments):(s.push(t),n||(n=!0,(document.hidden?setTimeout:requestAnimationFrame)(l)))})._lsFlush=l=function(){var t=s;for(s=o.length?r:o,i=!0,n=!1;t.length;)t.shift()();i=!1},d),nt=function(t,e){return e?function(){it(t)}:function(){var e=this,a=arguments;it((function(){t.apply(e,a)}))}},ot=function(t){var e,a,i=function(){e=null,t()},n=function(){var t=Date.now()-a;t<99?setTimeout(n,99-t):(K||i)(i)};return function(){a=Date.now(),e||(e=setTimeout(n,99))}},rt=(A=/^img$/i,E=/^iframe$/i,C="onscroll"in window&&!/(gle|ing)bot/.test(navigator.userAgent),L=0,_=0,N=-1,T=function(t){_--,(!t||_<0||!t.target)&&(_=0)},M=function(t){return null==w&&(w="hidden"==et(document.body,"visibility")),w||!("hidden"==et(t.parentNode,"visibility")&&"hidden"==et(t,"visibility"))},S=function(t,e){var a,i=t,n=M(t);for(v-=e,b+=e,p-=e,z+=e;n&&(i=i.offsetParent)&&i!=document.body&&i!=j;)(n=(et(i,"opacity")||1)>0)&&"visible"!=et(i,"overflow")&&(a=i.getBoundingClientRect(),n=z>a.left&&p<a.right&&b>a.top-1&&v<a.bottom+1);return n},W=function(t){var e,i=0,n=a.throttleDelay,o=a.ricTimeout,r=function(){e=!1,i=Date.now(),t()},s=K&&o>49?function(){K(r,{timeout:o}),o!==a.ricTimeout&&(o=a.ricTimeout)}:nt((function(){setTimeout(r)}),!0);return function(t){var a;(t=!0===t)&&(o=33),e||(e=!0,(a=n-(Date.now()-i))<0&&(a=0),t||a<9?s():setTimeout(s,a))}}(R=function(){var t,i,n,o,r,s,l,d,f,g,A,E,T=e.elements;if((m=a.loadMode)&&_<8&&(t=T.length)){for(i=0,N++;i<t;i++)if(T[i]&&!T[i]._lazyRace)if(!C||e.prematureUnveil&&e.prematureUnveil(T[i]))k(T[i]);else if((d=T[i].getAttribute("data-expand"))&&(s=1*d)||(s=L),g||(g=!a.expand||a.expand<1?j.clientHeight>500&&j.clientWidth>500?500:370:a.expand,e._defEx=g,A=g*a.expFactor,E=a.hFac,w=null,L<A&&_<1&&N>2&&m>2&&!document.hidden?(L=A,N=0):L=m>1&&N>1&&_<6?g:0),f!==s&&(h=innerWidth+s*E,y=innerHeight+s,l=-1*s,f=s),n=T[i].getBoundingClientRect(),(b=n.bottom)>=l&&(v=n.top)<=y&&(z=n.right)>=l*E&&(p=n.left)<=h&&(b||z||p||v)&&(a.loadHidden||M(T[i]))&&(u&&_<3&&!d&&(m<3||N<4)||S(T[i],s))){if(k(T[i]),r=!0,_>9)break}else!r&&u&&!o&&_<4&&N<4&&m>2&&(c[0]||a.preloadAfterLoad)&&(c[0]||!d&&(b||z||p||v||"auto"!=T[i].getAttribute(a.sizesAttr)))&&(o=c[0]||T[i]);o&&!r&&k(o)}}),B=nt(x=function(t){var e=t.target;e._lazyCache?delete e._lazyCache:(T(t),e.classList.add(a.loadedClass),e.classList.remove(a.loadingClass),Y(e,q),Z(e,"lazyloaded"))}),q=function(t){B({target:t.target})},D=function(t){var e,i=t.getAttribute(a.srcsetAttr);(e=a.customMedia[t.getAttribute("data-media")||t.getAttribute("media")])&&t.setAttribute("media",e),i&&t.setAttribute("srcset",i)},F=nt((function(t,e,i,n,o){var r,s,l,d,c,u;(c=Z(t,"lazybeforeunveil",e)).defaultPrevented||(n&&(i?t.classList.add(a.autosizesClass):t.setAttribute("sizes",n)),s=t.getAttribute(a.srcsetAttr),r=t.getAttribute(a.srcAttr),o&&(d=(l=t.parentNode)&&Q.test(l.nodeName||"")),u=e.firesLoad||"src"in t&&(s||r||d),c={target:t},t.classList.add(a.loadingClass),u&&(clearTimeout(f),f=setTimeout(T,2500),Y(t,q,!0)),d&&X.call(l.getElementsByTagName("source"),D),s?t.setAttribute("srcset",s):r&&!d&&(E.test(t.nodeName)?function(t,e){try{t.contentWindow.location.replace(e)}catch(a){t.src=e}}(t,r):t.src=r),o&&(s||d)&&tt(t,{src:r})),t._lazyRace&&delete t._lazyRace,t.classList.remove(a.lazyClass),it((function(){var e=t.complete&&t.naturalWidth>1;u&&!e||(e&&t.classList.add("ls-is-cached"),x(c),t._lazyCache=!0,setTimeout((function(){"_lazyCache"in t&&delete t._lazyCache}),9)),"lazy"==t.loading&&_--}),!0)})),k=function(t){if(!t._lazyRace){var e,i=A.test(t.nodeName),n=i&&(t.getAttribute(a.sizesAttr)||t.getAttribute("sizes")),o="auto"==n;(!o&&u||!i||!t.getAttribute("src")&&!t.srcset||t.complete||t.classList.contains(a.errorClass)||!t.classList.contains(a.lazyClass))&&(e=Z(t,"lazyunveilread").detail,o&&st.updateElem(t,!0,t.offsetWidth),t._lazyRace=!0,_++,F(t,e,o,n,i))}},H=ot((function(){a.loadMode=3,W()})),$=function(){u||(Date.now()-g<999?setTimeout($,999):(u=!0,a.loadMode=3,W(),G("scroll",P,!0)))},{_:function(){g=Date.now(),e.elements=document.getElementsByClassName(a.lazyClass),c=document.getElementsByClassName(a.lazyClass+" "+a.preloadClass),G("scroll",W,!0),G("resize",W,!0),G("pageshow",(function(t){if(t.persisted){var e=document.querySelectorAll("."+a.loadingClass);e.length&&e.forEach&&requestAnimationFrame((function(){e.forEach((function(t){t.complete&&k(t)}))}))}})),window.MutationObserver&&new MutationObserver(W).observe(j,{childList:!0,subtree:!0,attributes:!0}),G("hashchange",W,!0),["focus","mouseover","click","load","transitionend","animationend"].forEach((function(t){document.addEventListener(t,W,!0)})),/d$|^c/.test(document.readyState)?$():(G("load",$),document.addEventListener("DOMContentLoaded",W),setTimeout($,2e4)),e.elements.length?(R(),it._lsFlush()):W()},checkElems:W,unveil:k,_aLSL:P=function(){3==a.loadMode&&(a.loadMode=2),H()}}),st=(O=nt((function(t,e,a,i){var n,o,r;if(t._lazysizesWidth=i,i+="px",t.setAttribute("sizes",i),Q.test(e.nodeName||""))for(o=0,r=(n=e.getElementsByTagName("source")).length;o<r;o++)n[o].setAttribute("sizes",i);a.detail.dataAttr||tt(t,a.detail)})),J=function(t,e,a){var i,n=t.parentNode;n&&(a=at(t,n,a),(i=Z(t,"lazybeforesizes",{width:a,dataAttr:!!e})).defaultPrevented||(a=i.detail.width)&&a!==t._lazysizesWidth&&O(t,n,i,a))},{_:function(){I=document.getElementsByClassName(a.autosizesClass),G("resize",U)},checkElems:U=ot((function(){var t,e=I.length;if(e)for(t=0;t<e;t++)J(I[t])})),updateElem:J}),lt=function(){!lt.i&&document.getElementsByClassName&&(lt.i=!0,st._(),rt._())};return setTimeout((function(){a.init&&lt()})),e={cfg:a,autoSizer:st,loader:rt,init:lt,uP:tt,fire:Z,gW:at,rAF:it}}(),e((function(t){var e,a,i={};function n(t,e){if(!i[t]){var a=document.createElement(e?"link":"script"),n=document.getElementsByTagName("script")[0];e?(a.rel="stylesheet",a.href=t):a.src=t,i[t]=!0,i[a.src||a.href]=!0,n.parentNode.insertBefore(a,n)}}document.addEventListener&&(a=/\(|\)|\s|'/,e=function(t,e){var a=document.createElement("img");a.onload=function(){a.onload=null,a.onerror=null,a=null,e()},a.onerror=a.onload,a.src=t,a&&a.complete&&a.onload&&a.onload()},addEventListener("lazybeforeunveil",(function(i){var o,r,s;if(i.detail.instance==t&&!i.defaultPrevented){var l=i.target;if("none"==l.preload&&(l.preload=l.getAttribute("data-preload")||"auto"),null!=l.getAttribute("data-autoplay"))if(l.getAttribute("data-expand")&&!l.autoplay)try{l.play()}catch(t){}else requestAnimationFrame((function(){l.setAttribute("data-expand","-10"),l.classList.add(t.cfg.lazyClass)}));(o=l.getAttribute("data-link"))&&n(o,!0),(o=l.getAttribute("data-script"))&&n(o),(o=l.getAttribute("data-require"))&&(t.cfg.requireJs?t.cfg.requireJs([o]):n(o)),(r=l.getAttribute("data-bg"))&&(i.detail.firesLoad=!0,e(r,(function(){l.style.backgroundImage="url("+(a.test(r)?JSON.stringify(r):r)+")",i.detail.firesLoad=!1,t.fire(l,"_lazyloaded",{},!0,!0)}))),(s=l.getAttribute("data-poster"))&&(i.detail.firesLoad=!0,e(s,(function(){l.poster=s,i.detail.firesLoad=!1,t.fire(l,"_lazyloaded",{},!0,!0)})))}}),!1))})),window.lazySizesConfig=window.lazySizesConfig||{},window.lazySizesConfig.preloadAfterLoad=!0,e((function(t){if(window.addEventListener){var e,a,i,n=Array.prototype.forEach,o=/^picture$/i,r=function(t){return window.matchMedia?(r=function(t){return!t||(matchMedia(t)||{}).matches})(t):window.Modernizr&&Modernizr.mq?!t||Modernizr.mq(t):!t},s=t.cfg;l.prototype={_setupEvents:function(){var t,e,a=this,i=function(t){t.naturalWidth<36?a.addAspectRatio(t,!0):a.removeAspectRatio(t,!0)},o=function(){a.processImages()};document.addEventListener("load",(function(t){t.target.getAttribute&&t.target.getAttribute("data-aspectratio")&&i(t.target)}),!0),addEventListener("resize",(e=function(){n.call(a.ratioElems,i)},function(){clearTimeout(t),t=setTimeout(e,99)})),document.addEventListener("DOMContentLoaded",o),addEventListener("load",o)},processImages:function(t){var e,a;t||(t=document),e="length"in t&&!t.nodeName?t:t.querySelectorAll("img[data-aspectratio]");for(a=0;a<e.length;a++)e[a].naturalWidth>36?this.removeAspectRatio(e[a]):this.addAspectRatio(e[a])},getSelectedRatio:function(t){var e,a,i,n,l,d=t.parentNode;if(d&&o.test(d.nodeName||""))for(e=0,a=(i=d.getElementsByTagName("source")).length;e<a;e++)if(n=i[e].getAttribute("data-media")||i[e].getAttribute("media"),s.customMedia[n]&&(n=s.customMedia[n]),r(n)){l=i[e].getAttribute("data-aspectratio");break}return l||t.getAttribute("data-aspectratio")||""},parseRatio:(a=/^\s*([+\d\.]+)(\s*[\/x]\s*([+\d\.]+))?\s*$/,i={},function(t){var e;return!i[t]&&(e=t.match(a))&&(e[3]?i[t]=e[1]/e[3]:i[t]=1*e[1]),i[t]}),addAspectRatio:function(t,e){var a,i=t.offsetWidth,n=t.offsetHeight;e||t.classList.add("lazyaspectratio"),i<36&&n<=0?(i||n&&window.console)&&console.log("Define width or height of image, so we can calculate the other dimension"):(a=this.getSelectedRatio(t),(a=this.parseRatio(a))&&(i?t.style.height=i/a+"px":t.style.width=n*a+"px"))},removeAspectRatio:function(t){t.classList.remove("lazyaspectratio"),t.style.height="",t.style.width="",t.removeAttribute("data-aspectratio")}},e=new l,window.imageRatio=e}function l(){this.ratioElems=document.getElementsByClassName("lazyaspectratio"),this._setupEvents(),this.processImages()}}))}();
