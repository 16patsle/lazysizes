!function(){"use strict";if("function"!=typeof window.CustomEvent){function e(e,t){t=t||{bubbles:!1,cancelable:!1,detail:null};var n=document.createEvent("CustomEvent");return n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),n}window.CustomEvent=e}function t(e){return(t=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function n(e,t){return(n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function r(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function a(e,t,o){return(a=r()?Reflect.construct:function(e,t,r){var a=[null];a.push.apply(a,t);var o=new(Function.bind.apply(e,a));return r&&n(o,r.prototype),o}).apply(null,arguments)}function o(e){var r="function"==typeof Map?new Map:void 0;return(o=function(e){if(null===e||(o=e,-1===Function.toString.call(o).indexOf("[native code]")))return e;var o;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==r){if(r.has(e))return r.get(e);r.set(e,i)}function i(){return a(e,arguments,t(this).constructor)}return i.prototype=Object.create(e.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),n(i,e)})(e)}function i(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function l(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,l=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return i=e.done,e},e:function(e){l=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(l)throw o}}}}window.lazySizes=function(){var t,n;if(function(){var e,t={lazyClass:"lazyload",loadedClass:"lazyloaded",loadingClass:"lazyloading",preloadClass:"lazypreload",errorClass:"lazyerror",autosizesClass:"lazyautosizes",srcAttr:"data-src",srcsetAttr:"data-srcset",sizesAttr:"data-sizes",minSize:40,customMedia:{},init:!0,expFactor:1.5,hFac:.8,loadMode:2,loadHidden:!0,ricTimeout:0,throttleDelay:125};for(e in n=window.lazySizesConfig||window.lazysizesConfig||{},t)e in n||(n[e]=t[e])}(),!document||!document.getElementsByClassName)return{init:function(){},cfg:n,noSupport:!0};var r,a,o,i,s,l,u,c,d,f,m,h,v,p,y,b,g,w,A,z,L,E,C,T,M,O,R,_,B,S,x,N,k,P,D,I,j,W,F,G,H,U,q,$=document.documentElement,J=window.addEventListener.bind(window),Q=window.requestIdleCallback,V=/^picture$/i,K=["load","error","lazyincluded","_lazyloaded"],X=Array.prototype.forEach,Y=function(e,t,n){var r=n?"addEventListener":"removeEventListener";n&&Y(e,t),K.forEach((function(n){e[r](n,t)}))},Z=function(n,r,a,o,i){a||(a={}),a.instance=t;var s=new e(r,{detail:a,bubbles:!o,cancelable:!i});return n.dispatchEvent(s),s},ee=function(e,t){var r;!window.HTMLPictureElement&&(r=window.picturefill||n.pf)?(t&&t.src&&!e.getAttribute("srcset")&&e.setAttribute("srcset",t.src),r({reevaluate:!0,elements:[e]})):t&&t.src&&(e.src=t.src)},te=function(e,t){return(getComputedStyle(e,null)||{})[t]},ne=function(e,t,r){for(r=r||e.offsetWidth;r<n.minSize&&t&&!e._lazysizesWidth;)r=t.offsetWidth,t=t.parentNode;return r},re=(i=[],s=o=[],(u=function(e,t){r&&!t?e.apply(this,arguments):(s.push(e),a||(a=!0,(document.hidden?setTimeout:requestAnimationFrame)(l)))})._lsFlush=l=function(){var e=s;for(s=o.length?i:o,r=!0,a=!1;e.length;)e.shift()();r=!1},u),ae=function(e,t){return t?function(){re(e)}:function(){var t=this,n=arguments;re((function(){e.apply(t,n)}))}},oe=function(e){var t,n,r=function(){t=null,e()},a=function(){var e=Date.now()-n;e<99?setTimeout(a,99-e):(Q||r)(r)};return function(){n=Date.now(),t||(t=setTimeout(a,99))}},ie=(z=/^img$/i,L=/^iframe$/i,E="onscroll"in window&&!/(gle|ing)bot/.test(navigator.userAgent),C=0,T=0,M=-1,O=function(e){T--,(!e||T<0||!e.target)&&(T=0)},R=function(e){return null==A&&(A="hidden"==te(document.body,"visibility")),A||!("hidden"==te(e.parentNode,"visibility")&&"hidden"==te(e,"visibility"))},_=function(e,t){var n,r=e,a=R(e);for(y-=t,w+=t,b-=t,g+=t;a&&(r=r.offsetParent)&&r!=document.body&&r!=$;)(a=(te(r,"opacity")||1)>0)&&"visible"!=te(r,"overflow")&&(n=r.getBoundingClientRect(),a=g>n.left&&b<n.right&&w>n.top-1&&y<n.bottom+1);return a},S=function(e){var t,r=0,a=n.throttleDelay,o=n.ricTimeout,i=function(){t=!1,r=Date.now(),e()},s=Q&&o>49?function(){Q(i,{timeout:o}),o!==n.ricTimeout&&(o=n.ricTimeout)}:ae((function(){setTimeout(i)}),!0);return function(e){var n;(e=!0===e)&&(o=33),t||(t=!0,(n=a-(Date.now()-r))<0&&(n=0),e||n<9?s():setTimeout(s,n))}}(B=function(){var e,r,a,o,i,s,l,u,f,h,z,L,O=t.elements;if((m=n.loadMode)&&T<8&&(e=O.length)){for(r=0,M++;r<e;r++)if(O[r]&&!O[r]._lazyRace)if(!E||t.prematureUnveil&&t.prematureUnveil(O[r]))I(O[r]);else if((u=O[r].getAttribute("data-expand"))&&(s=1*u)||(s=C),h||(h=!n.expand||n.expand<1?$.clientHeight>500&&$.clientWidth>500?500:370:n.expand,t._defEx=h,z=h*n.expFactor,L=n.hFac,A=null,C<z&&T<1&&M>2&&m>2&&!document.hidden?(C=z,M=0):C=m>1&&M>1&&T<6?h:0),f!==s&&(v=innerWidth+s*L,p=innerHeight+s,l=-1*s,f=s),a=O[r].getBoundingClientRect(),(w=a.bottom)>=l&&(y=a.top)<=p&&(g=a.right)>=l*L&&(b=a.left)<=v&&(w||g||b||y)&&(n.loadHidden||R(O[r]))&&(d&&T<3&&!u&&(m<3||M<4)||_(O[r],s))){if(I(O[r]),i=!0,T>9)break}else!i&&d&&!o&&T<4&&M<4&&m>2&&(c[0]||n.preloadAfterLoad)&&(c[0]||!u&&(w||g||b||y||"auto"!=O[r].getAttribute(n.sizesAttr)))&&(o=c[0]||O[r]);o&&!i&&I(o)}}),N=ae(x=function(e){var t=e.target;t._lazyCache?delete t._lazyCache:(O(e),t.classList.add(n.loadedClass),t.classList.remove(n.loadingClass),Y(t,k),Z(t,"lazyloaded"))}),k=function(e){N({target:e.target})},P=function(e){var t,r=e.getAttribute(n.srcsetAttr);(t=n.customMedia[e.getAttribute("data-media")||e.getAttribute("media")])&&e.setAttribute("media",t),r&&e.setAttribute("srcset",r)},D=ae((function(e,t,r,a,o){var i,s,l,u,c,d;(c=Z(e,"lazybeforeunveil",t)).defaultPrevented||(a&&(r?e.classList.add(n.autosizesClass):e.setAttribute("sizes",a)),s=e.getAttribute(n.srcsetAttr),i=e.getAttribute(n.srcAttr),o&&(u=(l=e.parentNode)&&V.test(l.nodeName||"")),d=t.firesLoad||"src"in e&&(s||i||u),c={target:e},e.classList.add(n.loadingClass),d&&(clearTimeout(f),f=setTimeout(O,2500),Y(e,k,!0)),u&&X.call(l.getElementsByTagName("source"),P),s?e.setAttribute("srcset",s):i&&!u&&(L.test(e.nodeName)?function(e,t){try{e.contentWindow.location.replace(t)}catch(n){e.src=t}}(e,i):e.src=i),o&&(s||u)&&ee(e,{src:i})),e._lazyRace&&delete e._lazyRace,e.classList.remove(n.lazyClass),re((function(){var t=e.complete&&e.naturalWidth>1;d&&!t||(t&&e.classList.add("ls-is-cached"),x(c),e._lazyCache=!0,setTimeout((function(){"_lazyCache"in e&&delete e._lazyCache}),9)),"lazy"==e.loading&&T--}),!0)})),I=function(e){if(!e._lazyRace){var t,r=z.test(e.nodeName),a=r&&(e.getAttribute(n.sizesAttr)||e.getAttribute("sizes")),o="auto"==a;(!o&&d||!r||!e.getAttribute("src")&&!e.srcset||e.complete||e.classList.contains(n.errorClass)||!e.classList.contains(n.lazyClass))&&(t=Z(e,"lazyunveilread").detail,o&&se.updateElem(e,!0,e.offsetWidth),e._lazyRace=!0,T++,D(e,t,o,a,r))}},j=oe((function(){n.loadMode=3,S()})),F=function(){d||(Date.now()-h<999?setTimeout(F,999):(d=!0,n.loadMode=3,S(),J("scroll",W,!0)))},{_:function(){h=Date.now(),t.elements=document.getElementsByClassName(n.lazyClass),c=document.getElementsByClassName(n.lazyClass+" "+n.preloadClass),J("scroll",S,!0),J("resize",S,!0),J("pageshow",(function(e){if(e.persisted){var t=document.querySelectorAll("."+n.loadingClass);t.length&&t.forEach&&requestAnimationFrame((function(){t.forEach((function(e){e.complete&&I(e)}))}))}})),window.MutationObserver&&new MutationObserver(S).observe($,{childList:!0,subtree:!0,attributes:!0}),J("hashchange",S,!0),["focus","mouseover","click","load","transitionend","animationend"].forEach((function(e){document.addEventListener(e,S,!0)})),/d$|^c/.test(document.readyState)?F():(J("load",F),document.addEventListener("DOMContentLoaded",S),setTimeout(F,2e4)),t.elements.length?(B(),re._lsFlush()):S()},checkElems:S,unveil:I,_aLSL:W=function(){3==n.loadMode&&(n.loadMode=2),j()}}),se=(H=ae((function(e,t,n,r){var a,o,i;if(e._lazysizesWidth=r,r+="px",e.setAttribute("sizes",r),V.test(t.nodeName||""))for(o=0,i=(a=t.getElementsByTagName("source")).length;o<i;o++)a[o].setAttribute("sizes",r);n.detail.dataAttr||ee(e,n.detail)})),U=function(e,t,n){var r,a=e.parentNode;a&&(n=ne(e,a,n),(r=Z(e,"lazybeforesizes",{width:n,dataAttr:!!t})).defaultPrevented||(n=r.detail.width)&&n!==e._lazysizesWidth&&H(e,a,r,n))},{_:function(){G=document.getElementsByClassName(n.autosizesClass),J("resize",q)},checkElems:q=oe((function(){var e,t=G.length;if(t)for(e=0;e<t;e++)U(G[e])})),updateElem:U}),le=function(){!le.i&&document.getElementsByClassName&&(le.i=!0,se._(),ie._())};return setTimeout((function(){n.init&&le()})),t={cfg:n,autoSizer:se,loader:ie,init:le,uP:ee,fire:Z,gW:ne,rAF:re}}(),function(e){var t=function(){e(window.lazySizes),window.removeEventListener("lazyunveilread",t,!0)};window.lazySizes?t():window.addEventListener("lazyunveilread",t,!0)}((function(e){var t,n,r={};function a(e,t){if(!r[e]){var n=document.createElement(t?"link":"script"),a=document.getElementsByTagName("script")[0];t?(n.rel="stylesheet",n.href=e):n.src=e,r[e]=!0,r[n.src||n.href]=!0,a.parentNode.insertBefore(n,a)}}document.addEventListener&&(n=/\(|\)|\s|'/,t=function(e,t){var n=document.createElement("img");n.onload=function(){n.onload=null,n.onerror=null,n=null,t()},n.onerror=n.onload,n.src=e,n&&n.complete&&n.onload&&n.onload()},addEventListener("lazybeforeunveil",(function(r){var o,i,s;if(r.detail.instance==e&&!r.defaultPrevented){var l=r.target;if("none"==l.preload&&(l.preload=l.getAttribute("data-preload")||"auto"),null!=l.getAttribute("data-autoplay"))if(l.getAttribute("data-expand")&&!l.autoplay)try{l.play()}catch(e){}else requestAnimationFrame((function(){l.setAttribute("data-expand","-10"),l.classList.add(e.cfg.lazyClass)}));(o=l.getAttribute("data-link"))&&a(o,!0),(o=l.getAttribute("data-script"))&&a(o),(o=l.getAttribute("data-require"))&&(e.cfg.requireJs?e.cfg.requireJs([o]):a(o)),(i=l.getAttribute("data-bg"))&&(r.detail.firesLoad=!0,t(i,(function(){l.style.backgroundImage="url("+(n.test(i)?JSON.stringify(i):i)+")",r.detail.firesLoad=!1,e.fire(l,"_lazyloaded",{},!0,!0)}))),(s=l.getAttribute("data-poster"))&&(r.detail.firesLoad=!0,t(s,(function(){l.poster=s,r.detail.firesLoad=!1,e.fire(l,"_lazyloaded",{},!0,!0)})))}}),!1))}));var u=[],c=0;function d(e){for("function"==typeof e?u.push(e):c--;c<2&&"function"==typeof u[0];){c++,u.shift()()}}var f=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","#","$","%","*","+",",","-",".",":",";","=","?","@","[","]","^","_","{","|","}","~"],m=function(e){for(var t=0,n=0;n<e.length;n++){var r=e[n];t=83*t+f.indexOf(r)}return t},h={sRGBToLinear:function(e){var t=e/255;return t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)},linearTosRGB:function(e){var t=Math.max(0,Math.min(1,e));return t<=.0031308?Math.round(12.92*t*255+.5):Math.round(255*(1.055*Math.pow(t,1/2.4)-.055)+.5)},signPow:function(e,t){return(e<0?-1:1)*Math.pow(Math.abs(e),t)}},v=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&n(e,t)}(l,e);var a,o,s=(a=l,o=r(),function(){var e,n=t(a);if(o){var r=t(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return i(this,e)});function l(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),(t=s.call(this,e)).name="ValidationError",t.message=e,t}return l}(o(Error)),p=function(e){var t=e>>16,n=e>>8&255,r=255&e;return[h.sRGBToLinear(t),h.sRGBToLinear(n),h.sRGBToLinear(r)]},y=function(e,t){var n=Math.floor(e/361),r=Math.floor(e/19)%19,a=e%19;return[h.signPow((n-9)/9,2)*t,h.signPow((r-9)/9,2)*t,h.signPow((a-9)/9,2)*t]},b=function(e,t,n,r){!function(e){if(!e||e.length<6)throw new v("The blurhash string must be at least 6 characters");var t=m(e[0]),n=Math.floor(t/9)+1,r=t%9+1;if(e.length!==4+2*r*n)throw new v("blurhash length mismatch: length is ".concat(e.length," but it should be ").concat(4+2*r*n))}(e),r|=1;for(var a=m(e[0]),o=Math.floor(a/9)+1,i=a%9+1,s=(m(e[1])+1)/166,l=new Array(i*o),u=0;u<l.length;u++)if(0===u){var c=m(e.substring(2,6));l[u]=p(c)}else{var d=m(e.substring(4+2*u,6+2*u));l[u]=y(d,s*r)}for(var f=4*t,b=new Uint8ClampedArray(f*n),g=0;g<n;g++)for(var w=0;w<t;w++){for(var A=0,z=0,L=0,E=0;E<o;E++)for(var C=0;C<i;C++){var T=Math.cos(Math.PI*w*C/t)*Math.cos(Math.PI*g*E/n),M=l[C+E*i];A+=M[0]*T,z+=M[1]*T,L+=M[2]*T}var O=h.linearTosRGB(A),R=h.linearTosRGB(z),_=h.linearTosRGB(L);b[4*w+0+g*f]=O,b[4*w+1+g*f]=R,b[4*w+2+g*f]=_,b[4*w+3+g*f]=255}return b},g=[];function w(e,t,n,r){var a=b(e,t,n),o=function(e,t){var n=g.filter((function(e){return e&&!1===e.used}))[0];return n?n.ctx.clearRect(0,0,n.element.width,n.element.height):(n={},"undefined"!=typeof window&&window.document?n.element=document.createElement("canvas"):n.element=new OffscreenCanvas(e,t),n.ctx=n.element.getContext("2d"),g.push(n)),n.element.width=e,n.element.height=t,n.imageData=n.ctx.createImageData(e,t),n.used=!0,n}(t,n);o.imageData.data.set(a),o.ctx.putImageData(o.imageData,0,0),"undefined"!=typeof HTMLCanvasElement&&o.element instanceof HTMLCanvasElement?o.element.msToBlob?r(o.element.msToBlob()):o.element.toBlob((function(e){o.used=!1,r(e)})):"undefined"!=typeof OffscreenCanvas&&o.element instanceof OffscreenCanvas&&o.element.convertToBlob().then((function(e){o.used=!1,r(e)}))}var A,z=[];function L(e){A=e}var E="Worker"in window&&"OffscreenCanvas"in window&&"convertToBlob"in OffscreenCanvas.prototype;function C(e){console.log(e),E=!1}function T(e){"IMG"===e.nodeName&&e.dataset.blurhash&&!e.classList.contains("blurhashed")&&d((function(){var t=parseInt(e.getAttribute("width"),10)||1,n=parseInt(e.getAttribute("height"),10)||1;if(t<=1||n<=1){if(!e.dataset.aspectratio)return;var r=e.dataset.aspectratio.split("/");if(t=parseInt(r[0],10),n=parseInt(r[1],10),t<=25||n<=25)return}var a,o=getComputedStyle(e.parentElement).position,i=getComputedStyle(e),s=i.position,l=!0;if((document.body.classList.contains("blurhash-no-fancy")||"fixed"===o||"sticky"===o||"fixed"===s||"sticky"===s||Array.prototype.slice.call(e.parentNode).filter((function(e){return"NOSCRIPT"!==e.nodeName})).length>1)&&(l=!1),l){e.parentElement.classList.add("blurhash-container"),"absolute"!==o&&e.parentElement.classList.add("blurhash-container-relative"),"absolute"!==s&&e.classList.add("blurhash-relative"),(a=e.cloneNode()).src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",a.classList.add("blurhashing"),a.classList.remove("lazyload"),a.classList.remove("lazyloading"),a.removeAttribute("srcset"),a.removeAttribute("data-srcset"),a.removeAttribute("data-src"),a.removeAttribute("itemprop"),a.removeAttribute("id"),a.alt="",a.removeAttribute("data-aspectratio"),a.removeAttribute("data-blurhash"),"loading"in a&&(a.loading="eager");var u=i.direction,c=i.top,f="ltr"===u?"left":"right";"0px"===i[f]||"auto"===i[f]?a.classList.add(f):a.style[f]=i[f],"0px"!==c&&"auto"!==c&&(a.style.top=c),e.after(a)}else e.classList.add("blurhash"),e.classList.add("blurhashing");var m=function(t){var n=URL.createObjectURL(t);if(l){function r(){e.removeEventListener("lazyloaded",r),setTimeout((function(){URL.revokeObjectURL(n),a.parentNode.removeChild(a)}),2e3)}a.src=n,a.classList.remove("blurhashing"),a.classList.add("blurhashed"),e.addEventListener("lazyloaded",r)}else{function r(){e.removeEventListener("lazyloaded",r),setTimeout((function(){URL.revokeObjectURL(n)}),2e3)}e.src=n,e.classList.remove("blurhashing"),e.classList.add("blurhashed"),e.addEventListener("lazyloaded",r)}d()};if(!0===E){var h=function(e){var t=z.filter((function(e){return e&&!1===e.used}))[0];return t||((t={}).worker=new Worker(A),e&&t.worker.addEventListener("error",e,!1),z.push(t)),t.used=!0,t}(C);h.worker.postMessage([e.dataset.blurhash,t,n]),h.worker.onmessage=function(e){var t=e.data;m(t),h.used=!1}}else w(e.dataset.blurhash,t,n,m)}))}!function(){if(E){var e=document.currentScript;if(null===e||-1===e.getAttribute("src").indexOf("lazysizes"))return void(E=!1);var t=e.getAttribute("src").split("/");t.pop();var n=t.join("/")+"/blurhash-worker.min.js";L(n);var r=new Worker(n);r.addEventListener("error",C,!1),r.terminate()}}(),document.addEventListener("DOMContentLoaded",(function(){if(("toBlob"in HTMLCanvasElement.prototype||"msToBlob"in HTMLCanvasElement.prototype)&&(document.querySelectorAll("img[data-blurhash]").forEach(T),"MutationObserver"in window)){new MutationObserver((function(e){var t,n=l(e);try{for(n.s();!(t=n.n()).done;){t.value.addedNodes.forEach(T)}}catch(e){n.e(e)}finally{n.f()}})).observe(document.body,{childList:!0,subtree:!0})}}))}();
