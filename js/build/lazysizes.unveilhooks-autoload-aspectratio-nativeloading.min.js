!function(){"use strict";if("function"!=typeof window.CustomEvent){function e(e,t){t=t||{bubbles:!1,cancelable:!1,detail:null};var i=document.createEvent("CustomEvent");return i.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),i}window.CustomEvent=e}function t(e){var t=function(){e(window.lazySizes),window.removeEventListener("lazyunveilread",t,!0)};window.lazySizes?t():window.addEventListener("lazyunveilread",t,!0)}window.lazySizes=function(){var t,i;if(function(){var e,t={lazyClass:"lazyload",loadedClass:"lazyloaded",loadingClass:"lazyloading",preloadClass:"lazypreload",errorClass:"lazyerror",autosizesClass:"lazyautosizes",srcAttr:"data-src",srcsetAttr:"data-srcset",sizesAttr:"data-sizes",minSize:40,customMedia:{},init:!0,expFactor:1.5,hFac:.8,loadMode:2,loadHidden:!0,ricTimeout:0,throttleDelay:125};for(e in i=window.lazySizesConfig||window.lazysizesConfig||{},t)e in i||(i[e]=t[e])}(),!document||!document.getElementsByClassName)return{init:function(){},cfg:i,noSupport:!0};var n,a,o,r,s,d,l,c,u,f,m,g,v,y,p,h,z,b,w,A,L,E,C,T,_,M,N,S,R,W,x,B,k,F,q,D,H,I,O,P,$,U,J,j=document.documentElement,G=window.addEventListener.bind(window),K=window.requestIdleCallback,Q=/^picture$/i,V=["load","error","lazyincluded","_lazyloaded"],X=Array.prototype.forEach,Y=function(e,t,i){var n=i?"addEventListener":"removeEventListener";i&&Y(e,t),V.forEach((function(i){e[n](i,t)}))},Z=function(i,n,a,o,r){a||(a={}),a.instance=t;var s=new e(n,{detail:a,bubbles:!o,cancelable:!r});return i.dispatchEvent(s),s},ee=function(e,t){var n;!window.HTMLPictureElement&&(n=window.picturefill||i.pf)?(t&&t.src&&!e.getAttribute("srcset")&&e.setAttribute("srcset",t.src),n({reevaluate:!0,elements:[e]})):t&&t.src&&(e.src=t.src)},te=function(e,t){return(getComputedStyle(e,null)||{})[t]},ie=function(e,t,n){for(n=n||e.offsetWidth;n<i.minSize&&t&&!e._lazysizesWidth;)n=t.offsetWidth,t=t.parentNode;return n},ne=(r=[],s=o=[],(l=function(e,t){n&&!t?e.apply(this,arguments):(s.push(e),a||(a=!0,(document.hidden?setTimeout:requestAnimationFrame)(d)))})._lsFlush=d=function(){var e=s;for(s=o.length?r:o,n=!0,a=!1;e.length;)e.shift()();n=!1},l),ae=function(e,t){return t?function(){ne(e)}:function(){var t=this,i=arguments;ne((function(){e.apply(t,i)}))}},oe=function(e){var t,i,n=function(){t=null,e()},a=function(){var e=Date.now()-i;e<99?setTimeout(a,99-e):(K||n)(n)};return function(){i=Date.now(),t||(t=setTimeout(a,99))}},re=(A=/^img$/i,L=/^iframe$/i,E="onscroll"in window&&!/(gle|ing)bot/.test(navigator.userAgent),C=0,T=0,_=-1,M=function(e){T--,(!e||T<0||!e.target)&&(T=0)},N=function(e){return null==w&&(w="hidden"==te(document.body,"visibility")),w||!("hidden"==te(e.parentNode,"visibility")&&"hidden"==te(e,"visibility"))},S=function(e,t){var i,n=e,a=N(e);for(p-=t,b+=t,h-=t,z+=t;a&&(n=n.offsetParent)&&n!=document.body&&n!=j;)(a=(te(n,"opacity")||1)>0)&&"visible"!=te(n,"overflow")&&(i=n.getBoundingClientRect(),a=z>i.left&&h<i.right&&b>i.top-1&&p<i.bottom+1);return a},W=function(e){var t,n=0,a=i.throttleDelay,o=i.ricTimeout,r=function(){t=!1,n=Date.now(),e()},s=K&&o>49?function(){K(r,{timeout:o}),o!==i.ricTimeout&&(o=i.ricTimeout)}:ae((function(){setTimeout(r)}),!0);return function(e){var i;(e=!0===e)&&(o=33),t||(t=!0,(i=a-(Date.now()-n))<0&&(i=0),e||i<9?s():setTimeout(s,i))}}(R=function(){var e,n,a,o,r,s,d,l,f,g,A,L,M=t.elements;if((m=i.loadMode)&&T<8&&(e=M.length)){for(n=0,_++;n<e;n++)if(M[n]&&!M[n]._lazyRace)if(!E||t.prematureUnveil&&t.prematureUnveil(M[n]))D(M[n]);else if((l=M[n].getAttribute("data-expand"))&&(s=1*l)||(s=C),g||(g=!i.expand||i.expand<1?j.clientHeight>500&&j.clientWidth>500?500:370:i.expand,t._defEx=g,A=g*i.expFactor,L=i.hFac,w=null,C<A&&T<1&&_>2&&m>2&&!document.hidden?(C=A,_=0):C=m>1&&_>1&&T<6?g:0),f!==s&&(v=innerWidth+s*L,y=innerHeight+s,d=-1*s,f=s),a=M[n].getBoundingClientRect(),(b=a.bottom)>=d&&(p=a.top)<=y&&(z=a.right)>=d*L&&(h=a.left)<=v&&(b||z||h||p)&&(i.loadHidden||N(M[n]))&&(u&&T<3&&!l&&(m<3||_<4)||S(M[n],s))){if(D(M[n]),r=!0,T>9)break}else!r&&u&&!o&&T<4&&_<4&&m>2&&(c[0]||i.preloadAfterLoad)&&(c[0]||!l&&(b||z||h||p||"auto"!=M[n].getAttribute(i.sizesAttr)))&&(o=c[0]||M[n]);o&&!r&&D(o)}}),B=ae(x=function(e){var t=e.target;t._lazyCache?delete t._lazyCache:(M(e),t.classList.add(i.loadedClass),t.classList.remove(i.loadingClass),Y(t,k),Z(t,"lazyloaded"))}),k=function(e){B({target:e.target})},F=function(e){var t,n=e.getAttribute(i.srcsetAttr);(t=i.customMedia[e.getAttribute("data-media")||e.getAttribute("media")])&&e.setAttribute("media",t),n&&e.setAttribute("srcset",n)},q=ae((function(e,t,n,a,o){var r,s,d,l,c,u;(c=Z(e,"lazybeforeunveil",t)).defaultPrevented||(a&&(n?e.classList.add(i.autosizesClass):e.setAttribute("sizes",a)),s=e.getAttribute(i.srcsetAttr),r=e.getAttribute(i.srcAttr),o&&(l=(d=e.parentNode)&&Q.test(d.nodeName||"")),u=t.firesLoad||"src"in e&&(s||r||l),c={target:e},e.classList.add(i.loadingClass),u&&(clearTimeout(f),f=setTimeout(M,2500),Y(e,k,!0)),l&&X.call(d.getElementsByTagName("source"),F),s?e.setAttribute("srcset",s):r&&!l&&(L.test(e.nodeName)?function(e,t){try{e.contentWindow.location.replace(t)}catch(i){e.src=t}}(e,r):e.src=r),o&&(s||l)&&ee(e,{src:r})),e._lazyRace&&delete e._lazyRace,e.classList.remove(i.lazyClass),ne((function(){var t=e.complete&&e.naturalWidth>1;u&&!t||(t&&e.classList.add("ls-is-cached"),x(c),e._lazyCache=!0,setTimeout((function(){"_lazyCache"in e&&delete e._lazyCache}),9)),"lazy"==e.loading&&T--}),!0)})),D=function(e){if(!e._lazyRace){var t,n=A.test(e.nodeName),a=n&&(e.getAttribute(i.sizesAttr)||e.getAttribute("sizes")),o="auto"==a;(!o&&u||!n||!e.getAttribute("src")&&!e.srcset||e.complete||e.classList.contains(i.errorClass)||!e.classList.contains(i.lazyClass))&&(t=Z(e,"lazyunveilread").detail,o&&se.updateElem(e,!0,e.offsetWidth),e._lazyRace=!0,T++,q(e,t,o,a,n))}},H=oe((function(){i.loadMode=3,W()})),O=function(){u||(Date.now()-g<999?setTimeout(O,999):(u=!0,i.loadMode=3,W(),G("scroll",I,!0)))},{_:function(){g=Date.now(),t.elements=document.getElementsByClassName(i.lazyClass),c=document.getElementsByClassName(i.lazyClass+" "+i.preloadClass),G("scroll",W,!0),G("resize",W,!0),G("pageshow",(function(e){if(e.persisted){var t=document.querySelectorAll("."+i.loadingClass);t.length&&t.forEach&&requestAnimationFrame((function(){t.forEach((function(e){e.complete&&D(e)}))}))}})),window.MutationObserver&&new MutationObserver(W).observe(j,{childList:!0,subtree:!0,attributes:!0}),G("hashchange",W,!0),["focus","mouseover","click","load","transitionend","animationend"].forEach((function(e){document.addEventListener(e,W,!0)})),/d$|^c/.test(document.readyState)?O():(G("load",O),document.addEventListener("DOMContentLoaded",W),setTimeout(O,2e4)),t.elements.length?(R(),ne._lsFlush()):W()},checkElems:W,unveil:D,_aLSL:I=function(){3==i.loadMode&&(i.loadMode=2),H()}}),se=($=ae((function(e,t,i,n){var a,o,r;if(e._lazysizesWidth=n,n+="px",e.setAttribute("sizes",n),Q.test(t.nodeName||""))for(o=0,r=(a=t.getElementsByTagName("source")).length;o<r;o++)a[o].setAttribute("sizes",n);i.detail.dataAttr||ee(e,i.detail)})),U=function(e,t,i){var n,a=e.parentNode;a&&(i=ie(e,a,i),(n=Z(e,"lazybeforesizes",{width:i,dataAttr:!!t})).defaultPrevented||(i=n.detail.width)&&i!==e._lazysizesWidth&&$(e,a,n,i))},{_:function(){P=document.getElementsByClassName(i.autosizesClass),G("resize",J)},checkElems:J=oe((function(){var e,t=P.length;if(t)for(e=0;e<t;e++)U(P[e])})),updateElem:U}),de=function(){!de.i&&document.getElementsByClassName&&(de.i=!0,se._(),re._())};return setTimeout((function(){i.init&&de()})),t={cfg:i,autoSizer:se,loader:re,init:de,uP:ee,fire:Z,gW:ie,rAF:ne}}(),t((function(e){var t,i,n={};function a(e,t){if(!n[e]){var i=document.createElement(t?"link":"script"),a=document.getElementsByTagName("script")[0];t?(i.rel="stylesheet",i.href=e):i.src=e,n[e]=!0,n[i.src||i.href]=!0,a.parentNode.insertBefore(i,a)}}document.addEventListener&&(i=/\(|\)|\s|'/,t=function(e,t){var i=document.createElement("img");i.onload=function(){i.onload=null,i.onerror=null,i=null,t()},i.onerror=i.onload,i.src=e,i&&i.complete&&i.onload&&i.onload()},addEventListener("lazybeforeunveil",(function(n){var o,r,s;if(n.detail.instance==e&&!n.defaultPrevented){var d=n.target;if("none"==d.preload&&(d.preload=d.getAttribute("data-preload")||"auto"),null!=d.getAttribute("data-autoplay"))if(d.getAttribute("data-expand")&&!d.autoplay)try{d.play()}catch(e){}else requestAnimationFrame((function(){d.setAttribute("data-expand","-10"),d.classList.add(e.cfg.lazyClass)}));(o=d.getAttribute("data-link"))&&a(o,!0),(o=d.getAttribute("data-script"))&&a(o),(o=d.getAttribute("data-require"))&&(e.cfg.requireJs?e.cfg.requireJs([o]):a(o)),(r=d.getAttribute("data-bg"))&&(n.detail.firesLoad=!0,t(r,(function(){d.style.backgroundImage="url("+(i.test(r)?JSON.stringify(r):r)+")",n.detail.firesLoad=!1,e.fire(d,"_lazyloaded",{},!0,!0)}))),(s=d.getAttribute("data-poster"))&&(n.detail.firesLoad=!0,t(s,(function(){d.poster=s,n.detail.firesLoad=!1,e.fire(d,"_lazyloaded",{},!0,!0)})))}}),!1))})),window.lazySizesConfig=window.lazySizesConfig||{},window.lazySizesConfig.preloadAfterLoad=!0,t((function(e){if(window.addEventListener){var t,i,n,a=Array.prototype.forEach,o=/^picture$/i,r=function(e){return window.matchMedia?(r=function(e){return!e||(matchMedia(e)||{}).matches})(e):window.Modernizr&&Modernizr.mq?!e||Modernizr.mq(e):!e},s=e.cfg;d.prototype={_setupEvents:function(){var e,t,i=this,n=function(e){e.naturalWidth<36?i.addAspectRatio(e,!0):i.removeAspectRatio(e,!0)},o=function(){i.processImages()};document.addEventListener("load",(function(e){e.target.getAttribute&&e.target.getAttribute("data-aspectratio")&&n(e.target)}),!0),addEventListener("resize",(t=function(){a.call(i.ratioElems,n)},function(){clearTimeout(e),e=setTimeout(t,99)})),document.addEventListener("DOMContentLoaded",o),addEventListener("load",o)},processImages:function(e){var t,i;e||(e=document),t="length"in e&&!e.nodeName?e:e.querySelectorAll("img[data-aspectratio]");for(i=0;i<t.length;i++)t[i].naturalWidth>36?this.removeAspectRatio(t[i]):this.addAspectRatio(t[i])},getSelectedRatio:function(e){var t,i,n,a,d,l=e.parentNode;if(l&&o.test(l.nodeName||""))for(t=0,i=(n=l.getElementsByTagName("source")).length;t<i;t++)if(a=n[t].getAttribute("data-media")||n[t].getAttribute("media"),s.customMedia[a]&&(a=s.customMedia[a]),r(a)){d=n[t].getAttribute("data-aspectratio");break}return d||e.getAttribute("data-aspectratio")||""},parseRatio:(i=/^\s*([+\d\.]+)(\s*[\/x]\s*([+\d\.]+))?\s*$/,n={},function(e){var t;return!n[e]&&(t=e.match(i))&&(t[3]?n[e]=t[1]/t[3]:n[e]=1*t[1]),n[e]}),addAspectRatio:function(e,t){var i,n=e.offsetWidth,a=e.offsetHeight;t||e.classList.add("lazyaspectratio"),n<36&&a<=0?(n||a&&window.console)&&console.log("Define width or height of image, so we can calculate the other dimension"):(i=this.getSelectedRatio(e),(i=this.parseRatio(i))&&(n?e.style.height=n/i+"px":e.style.width=a*i+"px"))},removeAspectRatio:function(e){e.classList.remove("lazyaspectratio"),e.style.height="",e.style.width="",e.removeAttribute("data-aspectratio")}},t=new d,window.imageRatio=t}function d(){this.ratioElems=document.getElementsByClassName("lazyaspectratio"),this._setupEvents(),this.processImages()}})),t((function(e){var t=!1,i=e.prematureUnveil,n=e.cfg,a={focus:1,mouseover:1,click:1,load:1,transitionend:1,animationend:1,scroll:1,resize:1};function o(){var i,o,r,s;t||(t=!0,"loading"in HTMLImageElement.prototype&&"loading"in HTMLIFrameElement.prototype&&n.nativeLoading.disableListeners&&(!0===n.nativeLoading.disableListeners&&(n.nativeLoading.setLoadingAttribute=!0),i=e.loader,o=i.checkElems,r=function(){setTimeout((function(){window.removeEventListener("scroll",i._aLSL,!0)}),1e3)},(s="object"==typeof n.nativeLoading.disableListeners?n.nativeLoading.disableListeners:a).scroll&&(window.addEventListener("load",r),r(),window.removeEventListener("scroll",o,!0)),s.resize&&window.removeEventListener("resize",o,!0),Object.keys(s).forEach((function(e){s[e]&&document.removeEventListener(e,o,!0)}))),n.nativeLoading.setLoadingAttribute&&window.addEventListener("lazybeforeunveil",(function(e){var t=e.target;"loading"in t&&!t.getAttribute("loading")&&t.setAttribute("loading","lazy")}),!0))}n.nativeLoading||(n.nativeLoading={}),!window.addEventListener||!window.MutationObserver||!1 in HTMLImageElement.prototype&&!1 in HTMLIFrameElement.prototype||(e.prematureUnveil=function(e){return t||o(),!(!("loading"in e)||!n.nativeLoading.setLoadingAttribute&&!e.getAttribute("loading")||"auto"==e.getAttribute("data-sizes")&&!e.offsetWidth)||(i?i(e):void 0)})})),window.lazySizes&&(window.lazySizes.cfg.nativeLoading.setLoadingAttribute=!0)}();
